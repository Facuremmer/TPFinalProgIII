<div class="container">
    <div class="form-wrapper">
<form autocomplete="off"
    (ngSubmit)="save()"
    [formGroup]="miForm">
<div fxLayout="row"
     fxLayoutGap="200px"
     fxLayout.xs="column">
     <div fxFlex='100' 
          fxLayout="column">
          <h3 class="h3 mb-3 fw-normal" style="color: gray">Agregar dirección:</h3>
          <div fxLayout="row"
          fxLayout.xs="column"
          fxLayoutGap="20px">           
        <mat-form-field fxFlex='100'
                        fxLayout.xs="column">
            <mat-label>
                DNI: 
            </mat-label>
            <mat-select formControlName="idCuit_Dni">
                <mat-option *ngFor="let person of persons" [value]="person.idCuit_Dni">
                    {{person.idCuit_Dni}}
                </mat-option>
            </mat-select>       
            <span class="form-text text-danger"
                *ngIf="idPersonError()" >
                Debe elegir una opción
            </span>
        </mat-form-field>
    </div>

    <div fxLayout="row"
             fxLayout.xs="column"
             fxLayoutGap="20px">   
            <mat-form-field fxFlex='100'
                            fxLayout.xs="column">
                <mat-label>
                    Provincia:
                </mat-label>
                <input matInput 
                        type="text" 
                        placeholder="Provincia"
                        formControlName="provincia"
                        required>
                        <div *ngIf="miForm.get('provincia')?.touched && miForm.get('provincia')?.errors?.['required']"
                               class="alert alert-danger">Este campo es obligatorio
                        </div>    
            </mat-form-field>
        </div>

        <div fxLayout="row"
             fxLayout.xs="column"
             fxLayoutGap="20px">   
            <mat-form-field fxFlex='100'
                            fxLayout.xs="column">
                <mat-label>
                    Ciudad:
                </mat-label>
                <input matInput 
                        type="text" 
                        placeholder="Ciudad"
                        formControlName="ciudad"
                        required>
                        <div *ngIf="miForm.get('ciudad')?.touched && miForm.get('ciudad')?.errors?.['required']"
                               class="alert alert-danger">Este campo es obligatorio
                        </div>    
            </mat-form-field>
        </div>

        <div fxLayout="row"
             fxLayout.xs="column"
             fxLayoutGap="20px">   
            <mat-form-field fxFlex='100'
                            fxLayout.xs="column">
                <mat-label>
                    Calle:
                </mat-label>
                <input matInput 
                        type="text" 
                        placeholder="Calle"
                        formControlName="calle"
                        required>
                        <div *ngIf="miForm.get('calle')?.touched && miForm.get('calle')?.errors?.['required']"
                               class="alert alert-danger">Este campo es obligatorio
                        </div>  
            </mat-form-field>
            
        </div>   
        <div fxLayout="row"
        fxLayout.xs="column"
        fxLayoutGap="20px">   
       <mat-form-field fxFlex='100'
                       fxLayout.xs="column">
           <mat-label>
               Número:
           </mat-label>
           <input matInput 
                   type="text" 
                   placeholder="Número"
                   formControlName="numero"
                   required>
                   <div *ngIf="miForm.get('numero')?.touched && miForm.get('numero')?.errors?.['required']"
                          class="alert alert-danger">Este campo es obligatorio
                   </div>  
       </mat-form-field>
   </div> 

            <div fxLayout> 
                <button mat-raised-button
                        color="primary"
                        type="submit"
                        [disabled]="miForm.invalid">
                    <mat-icon>edit</mat-icon>
                    Guardar
                </button>  
                <button mat-raised-button
                        color="primary"
                        (click)="goBack()">
                    <mat-icon>back</mat-icon>
                    Atras
                </button>  
                <div fxLayout="row"
             fxLayout.xs="column"
             fxLayoutGap="20px">   
            </div>     
            </div>
    </div>
</div>
</form>
</div>
</div>
