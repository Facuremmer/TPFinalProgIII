<form autocomplete="off"
    (ngSubmit)="save()"
    [formGroup]="miForm">
<div fxLayout="row"
     fxLayoutGap="200px"
     fxLayout.xs="column">
     <div fxFlex='100' 
          fxLayout="column">
         <div fxLayout="row"
              fxLayout.xs="column"
              fxLayoutGap="20px">
            <mat-form-field fxFlex='100'
                            fxLayout.xs="column">
                <mat-label>
                    Codigo Producto
                </mat-label>
 
                  <input matInput 
                         type="number" 
                         placeholder="Ingresar Codigo"
                         formControlName="idProducto"
                         >
                         <div *ngIf="miForm.get('idProducto')?.touched && miForm.get('idProducto')?.errors?.['required']"
                               class="alert alert-danger">Este campo es obligatorio
                        </div>
                        <div *ngIf="miForm.get('idProducto')?.touched && miForm.get('idProducto')?.errors?.['min']"
                              class="alert alert-danger">El número debe ser mayor que
                            {{ miForm.get('idProducto')?.errors?.['min']?.min}} 
                        </div>
            </mat-form-field>
         </div>
         
         </div>
         <div fxLayout="row"
              fxLayout.xs="column"
              fxLayoutGap="20px">           
            <mat-form-field fxFlex='100'
                            fxLayout.xs="column">
                <mat-label>
                    Tipo Producto 
                </mat-label>
                <mat-select formControlName="idTipoProducto">
                    <mat-option *ngFor="let typeProd of typeProds" [value]="typeProd.idTipoProducto">
                        {{typeProd.descripcion}}
                    </mat-option>
                </mat-select>       
                <span class="form-text text-danger"
                    *ngIf="idTipoProductoError()" >
                    Debe elegir una opción
                </span>
            </mat-form-field>
        </div>

        <div fxLayout="row"
             fxLayout.xs="column"
             fxLayoutGap="20px">   
            <mat-form-field fxFlex='100'
                            fxLayout.xs="column">
                <mat-label>
                    Stock Actual
                </mat-label>

                <input matInput 
                        type="text" 
                        placeholder="Stock actual"
                        formControlName="stockActual"
                        required>
                        <div *ngIf="miForm.get('stockActual')?.touched && miForm.get('stockActual')?.errors?.['required']"
                               class="alert alert-danger">Este campo es obligatorio
                        </div>
                        <div *ngIf="miForm.get('stockActual')?.touched && miForm.get('stockActual')?.errors?.['min']"
                              class="alert alert-danger">El número debe ser mayor que
                            {{ miForm.get('stockActual')?.errors?.['min']?.min}} 
                        </div>     
            </mat-form-field>
        </div>   

            <div fxLayout> 
                <button mat-raised-button
                        color="primary"
                        type="submit"
                        [disabled]="miForm.invalid">
                    <mat-icon>edit</mat-icon>
                    Guardar
                </button>  
                <button mat-raised-button
                        color="primary"
                        (click)="goBack()">
                    <mat-icon>back</mat-icon>
                    Atras
                </button>         
            </div>
    </div>
</form>


<!-- <div class="row">
    <div class="col">
        <span>Valid</span>
        <pre>{{miForm.valid}}</pre>

        <span>Value</span>
        <pre>{{miForm.value | json}}</pre>

        <span>Pristine</span>
        <pre>{{miForm.pristine}}</pre>        
        <span>Touched</span>
        <pre>{{miForm.touched}}</pre>                   
        
    </div>

</div>           
 -->